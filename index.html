<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="robots" content="noindex,nofollow" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>nationalsubsidyhelp.com</title>
  <link rel="icon" href="img/favicon.png" sizes="32x32" />
  <meta name="description" content="nationalsubsidyhelp.com" />

  <!-- SAFE-MODE CSP: blocks third-party scripts/redirects. 
       If you must allow a domain, add it to script-src/connect-src/img-src as needed. -->
  <meta http-equiv="Content-Security-Policy"
        content="
          default-src 'self';
          script-src 'self' 'unsafe-inline';
          style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
          font-src https://fonts.gstatic.com 'self';
          img-src 'self' data: https:;
          connect-src 'self';
          frame-src 'self';
          base-uri 'self';
          form-action 'self';
          frame-ancestors 'self';
        ">

  <!-- Minimal mobile-friendly base styles -->
  <link href="css/bootstrap.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --ink:#0f172a;
      --accent:#0015FF;
      --accent2:#F00;
      --cta:#22c55e;
      --cta-dark:#16a34a;
      --muted:#475569;
      --rule:#e2e8f0;
      --max:880px;
    }
    html,body{margin:0;padding:0;font-family:Roboto,system-ui,-apple-system,Segoe UI,Arial,sans-serif;background:#fff;color:var(--ink);}
    .section-wrapper-main{max-width:var(--max);padding:20px 16px;margin:0 auto;}
    h1{font-size:clamp(26px,4.5vw,40px);line-height:1.2;margin:8px 0 6px;}
    h2{font-size:clamp(16px,2.9vw,20px);font-weight:400;color:var(--muted);line-height:1.45;margin:10px 0 20px;}
    h3{font-size:clamp(18px,3.6vw,24px);line-height:1.3;margin:0 0 12px;}
    .update-txt{display:inline-block;background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;border-radius:999px;padding:8px 12px;font-size:13px;margin-bottom:10px}
    .update-txt span{font-weight:700;margin-left:6px}
    .steps-ins{margin-top:10px;margin-bottom:18px;font-size:14px;color:#0f172a}
    .btn-enter2{display:block;border-radius:14px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.12);transition:.2s transform;}
    .btn-enter2:hover{transform:translateY(-2px)}
    .progress_box{max-width:520px}
    .progress-val{font-size:14px;margin:10px 0}
    .progress{height:10px;background:#eef2ff;border-radius:999px;overflow:hidden}
    .progress-bar{background:linear-gradient(90deg,#4f46e5,#06b6d4);height:100%}
    fieldset{border:0;margin:0 0 16px;padding:0}
    .row{display:grid;gap:10px}
    .btn-cta{width:100%;border:0;border-radius:12px;padding:14px 16px;font-weight:700;font-size:16px;background:#111827;color:#fff;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.12);transition:transform .1s ease,background .2s ease}
    .btn-cta:hover{transform:translateY(-1px);background:#0B1220}
    .btn-q{background:#0f172a}
    .btn-q:active{transform:translateY(0)}
    .result{margin-top:8px;padding:16px;border:1px solid var(--rule);border-radius:16px}
    .cta-btn{display:inline-flex;align-items:center;gap:10px;background:var(--cta);color:#fff;border:0;border-radius:999px;padding:14px 20px;font-weight:800;font-size:18px;cursor:pointer;box-shadow:0 12px 28px rgba(34,197,94,.35);transition:box-shadow .2s ease,transform .15s ease}
    .cta-btn:hover{background:var(--cta-dark);transform:translateY(-1px);box-shadow:0 16px 36px rgba(34,197,94,.4)}
    .cta-txt{letter-spacing:.4px}
    .round-bg-icon{width:12px;height:12px;border-radius:999px;background:#fff;opacity:.9}
    .time{color:#475569;font-size:14px;margin-top:12px}
    footer{border-top:1px solid var(--rule);margin-top:28px;background:#f8fafc}
    .section-wrapper2{max-width:var(--max);padding:24px 16px;margin:0 auto}
    .ftr-logo{height:auto;width:220px}
    footer ul{list-style:none;padding:0;margin:8px 0;display:flex;gap:14px;flex-wrap:wrap}
    footer ul a{text-decoration:none;color:#334155}
    .copyright-txt{font-size:13px;color:#64748b;margin-top:6px}
    .disclaimer-txt{margin-top:16px}
    #med{display:block}
    #med:before{content:"TPMO Disclaimer: We do not offer every plan available in your area. Any information we provide is limited to those plans we do offer in your area. Please contact Medicare.gov or 1-800-MEDICARE (24 hours a day/7 days a week) to get information on all of your options.";font-size:11px;line-height:1.4;margin-top:18px;display:block}
    /* Mobile tweaks */
    @media (max-width:480px){
      .btn-cta{font-size:16px;padding:14px}
      .cta-btn{width:100%;justify-content:center}
    }
  </style>
</head>
<body>
<main>
  <div class="container-fluid section-wrapper-main">
    <article>
      <div class="update-txt">Important Update: <span id="dateDisplay"></span></div>
      <h1>
        <strong>
          <span style="color:#F00;">Enrollment Now Open</span><br />
          <span style="color:#0015FF">Grocery Allowance Cards Available!</span>
        </strong>
      </h1>
      <h2>
        Eligible Americans now qualify for a 2026 “Grocery Allowance” Benefit to help cover healthy food costs. Use it for meat, produce, and more at stores like
        <span style="color:#002CFF">Walmart</span> &amp; <span style="color:#FF0004">Target</span>.
      </h2>

      <!-- KEEP LOCAL IMAGE ONLY IN SAFE MODE -->
      <a href="#from-questions" class="btn btn-enter2">
        <img src="img/ChatGPT Image Jul 1, 2025, 09_25_46 AM.png" width="100%" alt="Get Started" />
      </a>

      <div id="from-questions" class="steps-ins">
        Answer three questions to start and see how much you're eligible for...
      </div>
    </article>

    <div class="progress_box mx-auto" id="progressBox" style="display:none">
      <p class="progress-val"><strong><span id="pVal">0</span>%</strong> Complete</p>
      <div class="progress">
        <div class="progress-bar progress-bar-striped" id="pBar" role="progressbar" aria-valuenow="0" style="width:12%" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
    </div>

    <form id="quizForm">
      <fieldset data-q="1">
        <h3><strong>Select Your Age:</strong></h3>
        <div class="row">
          <button class="btn btn-cta btn-q" type="button">Under 64</button>
          <button class="btn btn-cta btn-q" type="button">64-69</button>
          <button class="btn btn-cta btn-q" type="button">70-74</button>
          <button class="btn btn-cta btn-q" type="button">75+</button>
        </div>
      </fieldset>

      <fieldset data-q="2" style="display:none">
        <h3><strong>Are you on Medicare <span class="br-mobile">Parts A &amp; B?</span></strong></h3>
        <div class="row">
          <button class="btn btn-cta btn-q" type="button">Yes</button>
          <button class="btn btn-cta btn-q" type="button">No</button>
        </div>
      </fieldset>

      <fieldset data-q="3" style="display:none">
        <h3><strong>Need Help Paying for Groceries?</strong></h3>
        <div class="row">
          <button class="btn btn-cta btn-q" type="button">✔️ Yes, I Need Help</button>
          <button class="btn btn-cta btn-q" type="button">❌ No, I’m All Set</button>
        </div>
      </fieldset>

      <fieldset data-q="final" style="display:none">
        <div class="result">
          <div id="continue-cta-call" style="display:none">
            <h3><span style="color:#90c156"><strong>Congratulations!</strong></span> You Pre-Qualify for the <strong>Grocery Benefit</strong>.</h3>
            <p><strong>Your spot is reserved so <u>call</u> within the next 5 minutes before it expires.</strong></p>
            <a href="tel:(888) 365-9535" rel="noopener">
              <button type="button" class="cta-btn">
                <span class="round-bg-icon" aria-hidden="true"></span>
                <span class="cta-txt">(888) 365-9535</span>
              </button>
            </a>
            <h4 class="time">Your spot is being held for <span id="holdTimer"></span></h4>
          </div>

          <div id="continue-cta-medicare" style="display:none">
            <h3><span style="color:#F00">Sorry</span>, you don't qualify at this time.</h3>
          </div>

          <div id="continue-cta-medicaid" style="display:none">
            <h3><span style="color:#F00">Sorry</span>, you don't qualify at this time.</h3>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</main>

<footer>
  <div class="container-fluid section-wrapper2">
    <div class="row" style="display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap">
      <div>
        <img src="img/logo.png" width="280" height="55" class="img-fluid ftr-logo" alt="Logo">
        <div class="copyright-txt">© <span id="yearNow"></span> nationalsubsidyhelp.com All rights reserved.</div>
      </div>
      <ul>
        <li><a href="policy.php" target="_blank" rel="noopener">Privacy Policy</a></li>
        <li><a href="terms.php" target="_blank" rel="noopener">Terms of Service</a></li>
        <li><a href="contact.php">Contact Us</a></li>
      </ul>
    </div>
    <p class="disclaimer-txt">
      <img src="img/footer.jpg" width="100%" alt="Disclaimer" />
    </p>
    <div id="med"></div>
  </div>
</footer>

<!-- ====== LOCAL, SAFE JS ONLY ====== -->
<script>
  // Date stamp and footer year
  (function(){
    const d = new Date();
    const opts = { weekday:'long', year:'numeric', month:'long', day:'numeric' };
    const disp = d.toLocaleDateString(undefined, opts);
    document.getElementById('dateDisplay').textContent = ' ' + disp;
    document.getElementById('yearNow').textContent = d.getFullYear();
  })();

  // UTM param helpers (no third-party calls)
  const _mc_ageMap = {
    "under 64":"under64","64-69":"64-69","70-74":"70-74","75+":"75+",
    "under64":"under64","70-74":"70-74"
  };
  function _mc_updateParam(param, value) {
    const currentURL = window.location.href;
    const newParam = param + '=' + encodeURIComponent((value||'').trim());
    const hasQuery = currentURL.includes('?');
    const alreadySet = currentURL.includes(param + '=');
    const updatedURL = alreadySet
      ? currentURL.replace(new RegExp(param + '=[^&]*'), newParam)
      : currentURL + (hasQuery ? '&' : '?') + newParam;
    window.history.replaceState(null, '', updatedURL);
  }
  function _mc_handleClick(text) {
    const cleaned = (text || '').replace(/\u00A0/g,' ').trim();
    const lc = cleaned.toLowerCase();
    // Age
    if (_mc_ageMap[cleaned] || /^(\d{1,3})(\+)?$/.test(lc) || /^(\d{1,3})\s*-\s*(\d{1,3})$/.test(lc) || /^under\s?\d{1,3}$/.test(lc) || /^over\s?\d{1,3}$/.test(lc)) {
      _mc_updateParam('utm_age', _mc_ageMap[cleaned] || cleaned);
    }
    // Medicare A/B
    if (lc === 'yes' || lc === 'no' || lc.includes('i need help') || lc.includes('i’m all set') || lc.includes("i'm all set")) {
      _mc_updateParam('utm_medicareAB', lc);
    }
  }

  // Quiz flow
  (function(){
    const form = document.getElementById('quizForm');
    const fieldsets = Array.from(form.querySelectorAll('fieldset'));
    const progressBox = document.getElementById('progressBox');
    const pVal = document.getElementById('pVal');
    const pBar = document.getElementById('pBar');
    const totalSteps = 3;
    let currentStep = 1;

    function setProgress(step){
      const pct = Math.round((step-1) / totalSteps * 100);
      pVal.textContent = pct;
      pBar.style.width = Math.max(12, pct) + '%';
      pBar.setAttribute('aria-valuenow', pct);
    }

    function showStep(n){
      fieldsets.forEach(fs => {
        const q = fs.getAttribute('data-q');
        fs.style.display = (q == n) ? '' : 'none';
      });
      if (n === 'final') {
        progressBox.style.display = '';
        setProgress(totalSteps + 1);
      } else {
        progressBox.style.display = '';
        setProgress(Number(n));
      }
    }

    // initial
    showStep(1);

    // button handler
    form.addEventListener('click', (e)=>{
      const el = e.target.closest('button');
      if(!el) return;
      e.preventDefault();

      // capture utm on any answer
      _mc_handleClick(el.textContent || '');

      if (currentStep < totalSteps) {
        currentStep++;
        showStep(currentStep);
        return;
      }

      // FINAL DECISION (simple demo logic; adjust as needed)
      showStep('final');
      const ans2 = _getAnswerText(2) || '';
      const wantsHelp = _getAnswerText(3) || '';
      const callBox = document.getElementById('continue-cta-call');
      const denyMedicare = document.getElementById('continue-cta-medicare');
      const denyMedicaid = document.getElementById('continue-cta-medicaid');

      // Example logic:
      // If Medicare Yes and Needs Help -> show call CTA
      if (ans2.toLowerCase() === 'yes' && wantsHelp.toLowerCase().includes('yes')) {
        callBox.style.display = '';
        denyMedicare.style.display = 'none';
        denyMedicaid.style.display = 'none';
        startHoldTimer(5); // 5 minutes
      } else {
        callBox.style.display = 'none';
        // you can choose which “sorry” box to show; here we use medicare
        denyMedicare.style.display = '';
        denyMedicaid.style.display = 'none';
      }
    });

    function _getAnswerText(stepNumber){
      // in this simple version, the "answer" is the last clicked button within that fieldset
      const fs = form.querySelector(`fieldset[data-q="${stepNumber}"]`);
      if(!fs) return '';
      return fs.getAttribute('data-last') || '';
    }

    // record last clicked per step
    form.addEventListener('click', (e)=>{
      const btn = e.target.closest('button');
      if (!btn) return;
      const fs = btn.closest('fieldset');
      if (!fs) return;
      fs.setAttribute('data-last', (btn.textContent || '').trim());
    });

    function startHoldTimer(minutes){
      const until = Date.now() + minutes*60*1000;
      const el = document.getElementById('holdTimer');
      function tick(){
        const diff = Math.max(0, until - Date.now());
        const m = Math.floor(diff/60000);
        const s = Math.floor((diff%60000)/1000);
        el.textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        if (diff > 0) requestAnimationFrame(()=>setTimeout(tick,250));
      }
      tick();
    }
  })();
</script>
</body>
</html>
